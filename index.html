<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>LEDComm: LEDComm</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LEDComm
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">LEDComm </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Kevin L. Pauba (<a href="#" onclick="location.href='mai'+'lto:'+'klp'+'au'+'ba@'+'gm'+'ail'+'.c'+'om'; return false;">klpau<span style="display: none;">.nosp@m.</span>ba@g<span style="display: none;">.nosp@m.</span>mail.<span style="display: none;">.nosp@m.</span>com</a>). </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0.0</dd></dl>
<h2>Introduction</h2>
<p>LEDComm is a library that allows you to use a single LED for slow (around 30 baud), very short range wireless (less than an inch), bidirectional asynchronous serial communications. The signalling allows for half-duplex operation, 7- or 8-bits per character (transferred in MSB first/big-endian order) and optional odd, even, mark or space parity. A description of its operation is provided at <a href="http://mecrisp.sourceforge.net/ledcomm.htm">http://mecrisp.sourceforge.net/ledcomm.htm</a> (kudos to the author of the page, Matthias Koch, for the inspiration!).</p>
<p>This code has only been tested with ChibiOS/RT V2.6.x (stable) on <code>ST_NUCLEO_L152RE</code> and <code>ST_NUCLEO_F401RE</code> boards but should work on any STM32 board without modification (using ChibiOS, of course). With the appropriate setting of an EXT configuration, it should work on any platform supported by ChibiOS.</p>
<p>LEDComm was developed as part of a project to collect data from <a href="http://en.wikipedia.org/wiki/Honey_bee">honey bee</a> hives. I wanted an effective (and cheap) way to exchange data between the hive boxes that didn't involve wires. Just as Giovanni Di Sirio has shared ChibiOS with the community, I offer this small contribution in return.</p>
<h2>Using the LEDComm Library</h2>
<p>The <code>LEDComm</code> library depends on a few HAL modules so the following manifest constants in <code>halconf.h</code> must be set to <code>TRUE:</code> </p>
<ul>
<li>HAL_USE_PAL </li>
<li>HAL_USE_EXT </li>
<li>HAL_USE_GPT</li>
</ul>
<p>Additionally, the <code>LEDComm</code> library depends on a few ChibiOS modules so the following manifest constants in <code>chconf.h</code> must be set to <code>TRUE:</code> </p>
<ul>
<li>CH_USE_QUEUES </li>
<li>CH_USE_EVENTS</li>
</ul>
<p>In order to use the LEDComm driver the source code must be extracted in the <code>$(CHIBIOS)/ext</code> directory. Your project <code>Makefile</code> must be modified by adding <code>$(CHIBIOS)/ext/ledcomm<em>-X.Y.Z</em>/ledcomm.c</code> to the <code>CSRC</code> variable and <code><code>$</code>(CHIBIOS)/ext/ledcomm<em>-X.Y.Z</em></code> to the <code>INCDIR</code> variable.</p>
<p>You must then copy the <code>$(CHIBIOS)/ext/ledcomm<em>-X.Y.Z</em>/templates/ledcommconf.h</code> configuration header to your project directory and modify the hardware configuration as desired.</p>
<p>Some example applications are provided in the <code>$(CHIBIOS)/ext/ledcomm<em>-X.Y.Z</em>/examples/</code> directory. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Oct 20 2014 08:45:07 for LEDComm by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
